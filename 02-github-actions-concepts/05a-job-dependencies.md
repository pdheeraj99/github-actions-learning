# ğŸ”— Job Dependencies - The `needs` Keyword

How to make jobs run in order!

---

## ğŸ¯ Telugu Simple ga

> "Without `needs` = Jobs PARALLEL ga run avthayi!"
> "With `needs` = Jobs SEQUENCE lo run avthayi!"

---

## ğŸ¤” The Problem

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         WITHOUT NEEDS KEYWORD                                    â”‚
â”‚                                                                                  â”‚
â”‚   jobs:                                                                          â”‚
â”‚     build:                                                                       â”‚
â”‚       runs-on: ubuntu-latest                                                     â”‚
â”‚       steps: ...                                                                 â”‚
â”‚                                                                                  â”‚
â”‚     docker:                                                                      â”‚
â”‚       runs-on: ubuntu-latest                                                     â”‚
â”‚       steps: ...                                                                 â”‚
â”‚                                                                                  â”‚
â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                                  â”‚
â”‚                BOTH JOBS START AT THE SAME TIME!                                â”‚
â”‚                                                                                  â”‚
â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚           â”‚                 â”‚                                                   â”‚
â”‚           â–¼                 â–¼                                                   â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                              â”‚
â”‚     â”‚  build   â”‚      â”‚  docker  â”‚    â† Running PARALLEL!                       â”‚
â”‚     â”‚  (Job 1) â”‚      â”‚  (Job 2) â”‚                                              â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                              â”‚
â”‚                                                                                  â”‚
â”‚   PROBLEM: Docker job needs the JAR from build job!                             â”‚
â”‚            But build not finished yet! â†’ FAIL! âŒ                               â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… The Solution: `needs` Keyword

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         WITH NEEDS KEYWORD                                       â”‚
â”‚                                                                                  â”‚
â”‚   jobs:                                                                          â”‚
â”‚     build:                                                                       â”‚
â”‚       runs-on: ubuntu-latest                                                     â”‚
â”‚       steps: ...                                                                 â”‚
â”‚                                                                                  â”‚
â”‚     docker:                                                                      â”‚
â”‚       needs: build              â† THE MAGIC!                                    â”‚
â”‚       runs-on: ubuntu-latest                                                     â”‚
â”‚       steps: ...                                                                 â”‚
â”‚                                                                                  â”‚
â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                                  â”‚
â”‚              JOB 2 WAITS FOR JOB 1 TO COMPLETE!                                 â”‚
â”‚                                                                                  â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                                â”‚
â”‚     â”‚  build   â”‚                                                                â”‚
â”‚     â”‚  (Job 1) â”‚                                                                â”‚
â”‚     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                                                â”‚
â”‚          â”‚                                                                       â”‚
â”‚          â”‚ needs: build                                                          â”‚
â”‚          â”‚ (WAIT until build completes!)                                        â”‚
â”‚          â–¼                                                                       â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                                â”‚
â”‚     â”‚  docker  â”‚    â† Starts ONLY after build finishes                          â”‚
â”‚     â”‚  (Job 2) â”‚                                                                â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                                â”‚
â”‚                                                                                  â”‚
â”‚   RESULT: Docker job has the JAR! â†’ SUCCESS! âœ…                                 â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Multiple Dependencies

```yaml
jobs:
  build:
    runs-on: ubuntu-latest
    steps: ...

  test:
    runs-on: ubuntu-latest
    steps: ...

  deploy:
    needs: [build, test]    # Wait for BOTH!
    runs-on: ubuntu-latest
    steps: ...
```

```
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  build   â”‚      â”‚   test   â”‚    â† PARALLEL (no needs)
     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
          â”‚                 â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ needs: [build, test]
                   â–¼
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚  deploy  â”‚    â† Waits for BOTH!
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš ï¸ What Happens If Job 1 Fails?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                                  â”‚
â”‚   jobs:                                                                          â”‚
â”‚     build:                        â† FAILS! âŒ                                   â”‚
â”‚       ...                                                                        â”‚
â”‚                                                                                  â”‚
â”‚     docker:                                                                      â”‚
â”‚       needs: build                â† CANCELLED! â›”                               â”‚
â”‚       ...                                                                        â”‚
â”‚                                                                                  â”‚
â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                                  â”‚
â”‚   If Job 1 fails, Job 2 is AUTOMATICALLY SKIPPED!                               â”‚
â”‚   (This is what you want - no point building Docker if code doesn't compile!)  â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Sharing Data Between Jobs

```yaml
# Job 1: Build and upload artifact
build:
  steps:
    - run: mvn package
    - uses: actions/upload-artifact@v4
      with:
        name: my-jar
        path: target/*.jar

# Job 2: Download and use
docker:
  needs: build    # Wait for job 1
  steps:
    - uses: actions/download-artifact@v4
      with:
        name: my-jar
        path: ./target/
```

---

## ğŸ¬ Telugu Summary

```
needs: <job-name>
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ Job 2 ni Job 1 complete ayyaka START cheyyi
â€¢ Without needs = Parallel run
â€¢ With needs = Sequential run

Multiple dependencies:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
needs: [job1, job2]
â€¢ BOTH jobs complete ayyaka start

If dependency fails:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ Dependent job = CANCELLED automatically
```

---

**Related: [05-jobs-and-steps.md](./05-jobs-and-steps.md)** ğŸ‘‰
